"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[653],{653:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(433),a=r(861),i=r(439),o=r(757),u=r.n(o),c=r(791),s=r(501),l=r(87),h=r(978),f=r(686),p=r(184),d=function(){var e=(0,c.useState)(""),t=(0,i.Z)(e,2),r=t[0],o=t[1],d=(0,c.useState)(!1),m=(0,i.Z)(d,2),b=m[0],v=m[1],x=(0,c.useState)([]),g=(0,i.Z)(x,1)[0],j=function(){var e=(0,a.Z)(u().mark((function e(t){var a,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),t.preventDefault(),t.currentTarget.reset(),""!==r.trim()){e.next=6;break}return v(!1),e.abrupt("return",f.Notify.info("Please provide a query"));case 6:return e.next=8,(0,s.Z)("https://api.themoviedb.org/3/search/movie?api_key=16b877ef666ac997a00ad8a16d1abc88&query=".concat(r));case 8:if(0!==(a=e.sent).results.length){e.next=12;break}return v(!1),e.abrupt("return",f.Notify.info("Sorry, there are no titles matching your search"));case 12:if(!a){e.next=19;break}v(!1),(i=(0,n.Z)(a.results)).map((function(e){return{title:e.title,id:e.id}})),i.forEach((function(e){g.push({movieId:e.id,movieTitle:e.title})})),e.next=20;break;case 19:throw new Error("Something went wrong...");case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)("form",{onSubmit:j,children:[(0,p.jsx)("label",{htmlFor:"searchInput"})," ",(0,p.jsx)("input",{id:"searchInput",type:"text",onChange:function(e){o(e.target.value)}}),(0,p.jsx)("button",{type:"submit",children:"Search"}),(0,p.jsx)("ul",{children:b?(0,p.jsx)(h.Z,{}):0!==g.length&&g.map((function(e){return(0,p.jsx)("li",{children:(0,p.jsx)(l.rU,{to:"/movies/".concat(e.movieId),children:(0,p.jsx)("p",{children:e.movieTitle})})},e.movieId)}))})]})}},978:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(643),a=(r(791),"Spinner_loaderWrapper__P2Ed1"),i="Spinner_loader__GQ3jW",o=r(184),u=function(){return(0,o.jsx)("div",{className:a,children:(0,o.jsx)(n.W0,{height:100,width:100,radius:5,color:"#3f51b5",ariaLabel:"ball-triangle-loading",wrapperClass:{},wrapperStyle:"",visible:!0,className:i})})}},501:function(e,t){t.Z=function(e){return fetch(e).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}}}]);
//# sourceMappingURL=653.1849ccb8.chunk.js.map